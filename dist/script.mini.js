const pokemonRepository=function(){let e=[],t=document.querySelector(".modal-body");function n(){return e}function i(t){e.push(t)}function o(e,t){e.addEventListener("click",e=>l(t))}function l(e){pokemonRepository.loadDetails(e).then(e=>{!function e(n){let i=document.createElement("div");i.innerHTML="",t.innerHTML="";let o=document.createElement("h1");o.innerText=n.name;let l=document.createElement("p");l.innerHTML="Height: "+n.height;let a=document.createElement("img");a.setAttribute("src",n.imageUrl),a.setAttribute("width","304"),a.setAttribute("height","228"),a.setAttribute("alt","Pokemon Picture"),i.appendChild(o),i.appendChild(l),i.appendChild(a),t.appendChild(i),t.classList.add("is-visible")}(e)})}function a(){t.classList.remove("is-visible")}return window.addEventListener("keydown",e=>{"Escape"===e.key&&t.classList.contains("is-visible")&&a()}),t.addEventListener("click",e=>{let n=e.target;n===t&&a()}),{getall:n,add:i,addv:function t(n){"object"==typeof n&&"name"in n?e.push(n):console.log("Not a real Pokemon !")},addListItem:function e(t){let n=document.querySelector(".list-group"),i=document.createElement("li");i.classList.add("list-group-item");let l=document.createElement("button");l.classList.add("btn"),l.classList.add("btn-primary"),l.setAttribute("id",`${t.name}`),l.setAttribute("data-bs-toggle","modal"),l.setAttribute("data-bs-target","#pokemonModal"),l.innerText=t.name,i.appendChild(l),n.appendChild(i),o(l,t)},showDetails:l,eventListener:o,LoadList:function e(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(e=>e.json()).then(e=>{e.results.forEach(e=>{let t={name:e.name,url:e.url};i(t)})})},loadDetails:function e(t){console.log({pokemon:t});let n=t.url;return fetch(n).then(e=>{let t=e.json();return console.log({jsonPromis:t}),t}).then(e=>(console.log({pokemonData:e}),console.log(t.name),t.imageUrl=e.sprites.front_default,t.height=e.height,console.log({pokemon:t}),t)).catch(e=>console.log(e))}}}();pokemonRepository.LoadList().then(e=>pokemonRepository.getall().forEach(e=>pokemonRepository.addListItem(e))).catch(e=>console.log(e));